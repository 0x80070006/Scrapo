<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Film Scraper</title>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="header-left">
            <a href="/" class="logo">
                <i class="fas fa-film"></i>
                Film Scraper
            </a>
        </div>
        <div class="header-center">
            <input type="text" placeholder="Rechercher..." onkeydown="handleSearch(event)">
        </div>
        <div class="header-right">
            <button class="icon-btn" onclick="toggleBasket()">
                <i class="fas fa-heart"></i>
                <span class="badge" id="basketBadge" style="display:none;">0</span>
            </button>
            <button class="icon-btn" onclick="openSettings()">
                <i class="fas fa-cog"></i>
            </button>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Recently Added (Jellyfin - NO ICONS) -->
        <div class="section" id="recentlyAdded" style="display:none;">
            <div class="section-header">
                <h2>Recently Added</h2>
            </div>
            <div class="carousel">
                <div class="carousel-track" id="recentlyAddedTrack"></div>
            </div>
        </div>

        <!-- Trending (Films + Series) -->
        <div class="section">
            <div class="section-header">
                <h2>Trending</h2>
                <a href="/discover/trending" class="see-more-link">See More →</a>
            </div>
            <div class="carousel">
                <div class="carousel-track" id="trendingTrack"></div>
            </div>
        </div>

        <!-- Popular Movies -->
        <div class="section">
            <div class="section-header">
                <h2>Popular Movies</h2>
                <a href="/discover/movies" class="see-more-link">See More →</a>
            </div>
            <div class="carousel">
                <div class="carousel-track" id="popularMoviesTrack"></div>
            </div>
        </div>

        <!-- Movie Genres -->
        <div class="section">
            <div class="section-header">
                <h2>Movie Genres</h2>
            </div>
            <div class="genre-grid">
                <div class="genre-card" onclick="navigateToGenre('action')">Action</div>
                <div class="genre-card" onclick="navigateToGenre('comedy')">Comedy</div>
                <div class="genre-card" onclick="navigateToGenre('drama')">Drama</div>
                <div class="genre-card" onclick="navigateToGenre('horror')">Horror</div>
                <div class="genre-card" onclick="navigateToGenre('scifi')">Science Fiction</div>
                <div class="genre-card" onclick="navigateToGenre('thriller')">Thriller</div>
            </div>
        </div>

        <!-- Popular Series -->
        <div class="section">
            <div class="section-header">
                <h2>Popular Series</h2>
                <a href="/discover/popular_series" class="see-more-link">See More →</a>
            </div>
            <div class="carousel">
                <div class="carousel-track" id="popularSeriesTrack"></div>
            </div>
        </div>

        <!-- Series Genres -->
        <div class="section">
            <div class="section-header">
                <h2>Series Genres</h2>
            </div>
            <div class="genre-grid">
                <div class="genre-card" onclick="navigateToGenre('action_series')">Action</div>
                <div class="genre-card" onclick="navigateToGenre('comedy_series')">Comedy</div>
                <div class="genre-card" onclick="navigateToGenre('drama_series')">Drama</div>
                <div class="genre-card" onclick="navigateToGenre('scifi_series')">Sci-Fi</div>
                <div class="genre-card" onclick="navigateToGenre('mystery_series')">Mystery</div>
                <div class="genre-card" onclick="navigateToGenre('animation_series')">Animation</div>
            </div>
        </div>

        <!-- Upcoming Movies -->
        <div class="section">
            <div class="section-header">
                <h2>Upcoming Movies</h2>
                <a href="/discover/upcoming" class="see-more-link">See More →</a>
            </div>
            <div class="carousel">
                <div class="carousel-track" id="upcomingTrack"></div>
            </div>
        </div>

        <!-- Studios -->
        <div class="section">
            <div class="section-header">
                <h2>Studios</h2>
            </div>
            <div class="genre-grid">
                <div class="genre-card" onclick="navigateToStudio(2)">Disney</div>
                <div class="genre-card" onclick="navigateToStudio(127928)">20th Century Studios</div>
                <div class="genre-card" onclick="navigateToStudio(34)">Sony Pictures</div>
                <div class="genre-card" onclick="navigateToStudio(174)">Warner Bros.</div>
                <div class="genre-card" onclick="navigateToStudio(33)">Universal</div>
                <div class="genre-card" onclick="navigateToStudio(4)">Paramount</div>
                <div class="genre-card" onclick="navigateToStudio(3)">Pixar</div>
                <div class="genre-card" onclick="navigateToStudio(521)">Dreamworks</div>
                <div class="genre-card" onclick="navigateToStudio(420)">Marvel Studios</div>
                <div class="genre-card" onclick="navigateToStudio(9993)">DC</div>
                <div class="genre-card" onclick="navigateToStudio(41077)">A24</div>
            </div>
        </div>

        <!-- Networks -->
        <div class="section">
            <div class="section-header">
                <h2>Networks</h2>
            </div>
            <div class="genre-grid">
                <div class="genre-card" onclick="navigateToNetwork(213)">Netflix</div>
                <div class="genre-card" onclick="navigateToNetwork(2739)">Disney+</div>
                <div class="genre-card" onclick="navigateToNetwork(1024)">Amazon Prime</div>
                <div class="genre-card" onclick="navigateToNetwork(453)">Hulu</div>
                <div class="genre-card" onclick="navigateToNetwork(2552)">Apple TV+</div>
                <div class="genre-card" onclick="navigateToNetwork(3353)">Peacock</div>
            </div>
        </div>
    </div>

    <!-- Basket Panel -->
    <div class="basket-panel" id="basketPanel">
        <div class="panel-header">
            <h3><i class="fas fa-heart"></i> Mon Panier</h3>
            <button class="close-btn" onclick="toggleBasket()">&times;</button>
        </div>
        <div class="panel-content" id="basketContent"></div>
    </div>

    <!-- Download Modal -->
    <div class="modal" id="downloadModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="downloadTitle">Téléchargement</h2>
                <button class="close-btn" onclick="closeDownloadModal()">&times;</button>
            </div>
            <div id="downloadOptions"></div>
        </div>
    </div>

    <!-- Search Results Modal -->
    <div class="modal" id="searchModal">
        <div class="modal-content large">
            <div class="modal-header">
                <h2 id="searchTitle">Résultats</h2>
                <button class="close-btn" onclick="closeSearchModal()">&times;</button>
            </div>
            <div id="searchResults" class="search-grid"></div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="modal" id="settingsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Paramètres</h2>
                <button class="close-btn" onclick="closeSettings()">&times;</button>
            </div>
            <div class="tabs">
                <button class="tab active" onclick="switchTab('jellyfin')">Jellyfin</button>
                <button class="tab" onclick="switchTab('jellyseerr')">Jellyseerr</button>
                <button class="tab" onclick="switchTab('streaming')">Site Streaming</button>
            </div>
            <div class="tab-content active" id="jellyfin-tab">
                <div class="form-group">
                    <label>URL Jellyfin</label>
                    <input type="text" id="jellyfinUrl" placeholder="http://192.168.1.100:8096">
                </div>
                <div class="form-group">
                    <label>Clé API</label>
                    <input type="password" id="jellyfinApiKey">
                </div>
                <button class="btn" onclick="saveJellyfin()">Enregistrer</button>
                <div id="jellyfinStatus"></div>
            </div>
            <div class="tab-content" id="jellyseerr-tab">
                <div class="form-group">
                    <label>URL Jellyseerr</label>
                    <input type="text" id="jellyseerrUrl" placeholder="http://192.168.1.100:5055">
                </div>
                <div class="form-group">
                    <label>Clé API</label>
                    <input type="password" id="jellyseerrApiKey">
                </div>
                <button class="btn" onclick="saveJellyseerr()">Enregistrer</button>
                <div id="jellyseerrStatus"></div>
            </div>
            <div class="tab-content" id="streaming-tab">
                <div class="form-group">
                    <label>URL du Site Streaming</label>
                    <input type="text" id="streamingUrl" placeholder="https://fs9.lol" value="https://fs9.lol">
                </div>
                <button class="btn" onclick="saveStreamingUrl()">Enregistrer</button>
                <div id="streamingStatus"></div>
            </div>
        </div>
    </div>

    <script src="/static/app.js"></script>
</body>
</html>
